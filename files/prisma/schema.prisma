generator client {
  provider      = "prisma-client-js"
  binaryTargets = ["native", "darwin", "debian-openssl-1.1.x"]
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model act {
  id  String @id
  doc doc[]
}

model doc {
  actId        String?
  createdAt    DateTime    @default(now())
  downloadable Boolean     @default(false)
  id           String      @default(dbgenerated()) @id
  name         String?
  title        String?
  updatedAt    DateTime    @default(now())
  ydUrl        String?
  act          act?        @relation(fields: [actId], references: [id])
  doc_event    doc_event[]
}

model doc_event {
  createdAt DateTime              @default(now())
  docId     String?
  event     doc_event_event_enum?
  id        String                @default(dbgenerated()) @id
  updatedAt DateTime              @default(now())
  doc       doc?                  @relation(fields: [docId], references: [id])
}

model migrations {
  id        Int    @default(autoincrement()) @id
  name      String
  timestamp Int
}

enum doc_event_event_enum {
  DELETED
  DOWNLOADED
  DROPPED
  SAVED
  TITLED
  UPLOADED
}